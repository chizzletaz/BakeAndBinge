{% extends "base.html" %}
{% block content %}


<div class="container">
    <h2>{{ recipe.recipe_title | capitalize }}</h2>

    <div class="row">
        <div class="col s12">
            <div class="card">
                <div class="col s12 l7 card-image">
                    <img src="{{ recipe.recipe_image }}" alt="{{ recipe.recipe_title }}">
                    <p>By: {{ recipe.created_by | capitalize }}</p>
                </div>
                <div class="col s12 l5 card-content">
                    <ul class="col s6 l12 collection">
                        <li class="collection-item">
                            <p><i class="fas fa-hourglass-end prefix"></i> &nbsp&nbsp prep: {{ recipe.prep_time }}</p>
                        </li>
                        <li class="collection-item">
                            <p><i class="fas fa-hourglass-start prefix"></i> &nbsp&nbsp bake: {{ recipe.bake_time }}</p>
                        </li>
                    </ul>
                    <ul class="col s6 l12 collection">
                        <li class="collection-item">
                            <p><i class="fas fa-hourglass prefix"></i> &nbsp&nbsp total: {{ recipe.total_time }}</p>
                        </li>
                        <li class="collection-item">
                            <p><i class="fas fa-user-friends prefix"></i> &nbsp&nbsp Serves: {{ recipe.servings }}</p>
                        </li>
                    </ul>
                    <div class="col s12 card-content">
                        <blockquote>{{ recipe.recipe_description }}</blockquote>
                    </div>
                </div>
                <ul class="col s12 collection">
                    <li class="collection-item">
                        <p><i class="fas fa-utensils"></i> &nbsp&nbspTools: {{ recipe.tools }}</p>
                    <li class="collection-item">
                </ul>
                <!-- for screen sizes < 992px -->
                <div class="card-tabs show-on-medium-and-down hide-on-med-and-up">
                    <ul class="tabs tabs-fixed-width">
                        <li class="tab"><a class="active" href="#test4">Ingredients</a></li>
                        <li class="tab"><a href="#test5">Instructions</a></li>
                    </ul>
                </div>
                <div class="card-content show-on-medium-and-down hide-on-med-and-up">
                    <div id="test4">
                        {% for ingredient in recipe.ingredients %}
                        <ul>
                            <li>
                                <label>
                                    <input type="checkbox" />
                                    <span>{{ ingredient }}</span>
                                </label>
                            </li>
                        </ul>
                        {% endfor %}
                    </div>
                    <div id="test5">
                        {% for step in recipe.steps %}
                        <ul>
                            <li>{{ loop.index }}. {{ step }}</li><br>
                        </ul>
                        {% endfor %}
                    </div>
                </div>
                <!-- for screen sizes > 992px -->
                <div class="row card-content">
                    <div class="col s12 l5 hide-on-med-and-down">
                        <h4>Ingredients</h4><br>
                        {% for ingredient in recipe.ingredients %}
                        <ul>
                            <li>
                                <label>
                                    <input type="checkbox" />
                                    <span>{{ ingredient }}</span>
                                </label>
                            </li>
                        </ul>

                        {% endfor %}
                    </div>
                    <div class="col s12 l7 hide-on-med-and-down">
                        <h4>Instructions</h4><br>
                        {% for step in recipe.steps %}
                        <ul>
                            <li>{{ loop.index }}. {{ step }}</li><br>
                        </ul>
                        {% endfor %}
                    </div>
                </div>
                {% if session.user|lower == recipe.created_by|lower %}
                <div class="card-action">
                    <a class="btn blue-grey lighten-4 black-text gb"
                        href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">Edit</a>
                    <!-- Modal Trigger for delete confirmation -->
                    <a class="btn blue-grey lighten-4 black-text right rb modal-trigger" href="#modal1">Delete</a>
                </div>
                <!-- Modal Structure for confirmation-->
                <div id="modal1" class="modal">
                    <div class="modal-content center-align">
                        <h5>Are you sure you want to delete this recipe?</h5>
                    </div>
                    <div class="modal-footer">
                        <a href="{{ url_for('recipe', recipe_id=recipe._id) }}" class="modal-close waves-effect waves-green btn-small left">No</a>
                        <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" class="modal-close waves-effect waves-green btn-small">Yes</a>
                    </div>
                </div>
                {% endif %}
            </div>

        </div>
    </div>



</div>


{% endblock %}